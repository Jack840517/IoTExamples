# рд░рд╛рдд рдХрд╛ рдЪрд┐рд░рд╛рдЧрд╝ рдмрдирд╛рдПрдВ - рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ

рдкрд╛рда рдХреЗ рдЗрд╕ рднрд╛рдЧ рдореЗрдВ, рдЖрдк рдЕрдкрдиреЗ рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ рдореЗрдВ рдПрдХ рдкреНрд░рдХрд╛рд╢ рд╕реЗрдВрд╕рд░ рдЬреЛрдбрд╝реЗрдВрдЧреЗред

## рд╣рд╛рд░реНрдбрд╡реЗрдпрд░

рдЗрд╕ рдкрд╛рда рдХреЗ рд▓рд┐рдП рд╕реЗрдВрд╕рд░ рдПрдХ **рдкреНрд░рдХрд╛рд╢ рд╕рдВрд╡реЗрджрдХ** рд╣реИ рдЬреЛ рдкреНрд░рдХрд╛рд╢ рдХреЛ рд╡рд┐рджреНрдпреБрдд рд╕рдВрдХреЗрдд рдореЗрдВ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП [рдлреЛрдЯреЛрдбрд╛рдпреЛрдб](https://wikipedia.org/wiki/Photodiode) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред рдпрд╣ рдПрдХ рдПрдирд╛рд▓реЙрдЧ рд╕реЗрдВрд╕рд░ рд╣реИ рдЬреЛ 0 рд╕реЗ 1,000 рддрдХ рдПрдХ рдкреВрд░реНрдгрд╛рдВрдХ рдорд╛рди рднреЗрдЬрддрд╛ рд╣реИ рдЬреЛ рдкреНрд░рдХрд╛рд╢ рдХреА рд╕рд╛рдкреЗрдХреНрд╖ рдорд╛рддреНрд░рд╛ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдорд╛рдк рдХреА рдХрд┐рд╕реА рднреА рдорд╛рдирдХ рдЗрдХрд╛рдИ рдЬреИрд╕реЗ [lux](https://wikipedia.org/wiki/Lux) рдкрд░ рдореИрдк рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред

рдкреНрд░рдХрд╛рд╢ рд╕рдВрд╡реЗрджрдХ рдПрдХ рдЯрд┐рдХрд╛рдК рдЧреНрд░реЛрд╡ рд╕реЗрдВрд╕рд░ рд╣реИ рдФрд░ рдЗрд╕реЗ рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ рдкрд░ рдЧреНрд░реЛрд╡ рдмреЗрд╕ рдЯреЛрдкреА рд╕реЗ рдЬреЛрдбрд╝рд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред

### рд▓рд╛рдЗрдЯ рд╕реЗрдВрд╕рд░ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ

рдкреНрд░рдХрд╛рд╢ рдХреЗ рд╕реНрддрд░ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдЧреНрд░реЛрд╡ рд▓рд╛рдЗрдЯ рд╕реЗрдВрд╕рд░ рдХреЛ рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ рд╕реЗ рдЬреЛрдбрд╝рд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред

#### рдЯрд╛рд╕реНрдХ - рд▓рд╛рдЗрдЯ рд╕реЗрдВрд╕рд░ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ

рдкреНрд░рдХрд╛рд╢ рд╕рдВрд╡реЗрджрдХ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ

![рдПрдХ рдЧреНрд░реЛрд╡ рд▓рд╛рдЗрдЯ рд╕реЗрдВрд╕рд░](../../../images/grove-light-sensor.png)

1. рд▓рд╛рдЗрдЯ рд╕реЗрдВрд╕рд░ рдореЙрдбреНрдпреВрд▓ рдХреЗ рд╕реЙрдХреЗрдЯ рдореЗрдВ рдЧреНрд░реЛрд╡ рдХреЗрдмрд▓ рдХрд╛ рдПрдХ рд╕рд┐рд░рд╛ рдбрд╛рд▓реЗрдВред рдпрд╣ рдХреЗрд╡рд▓ рдПрдХ рд╣реА рддрд░рд╣ рд╕реЗ рдШреВрдореЗрдЧрд╛ред

1. рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ рдХреЗ рдмрдВрдж рд╣реЛрдиреЗ рдХреЗ рд╕рд╛рде, рдЧреНрд░реЛрд╡ рдХреЗрдмрд▓ рдХреЗ рджреВрд╕рд░реЗ рдЫреЛрд░ рдХреЛ рдкрд╛рдИ рд╕реЗ рдЬреБрдбрд╝реА рдЧреНрд░реЛрд╡ рдмреЗрд╕ рд╣реИрдЯ рдкрд░ **A0** рдЪрд┐рд╣реНрдирд┐рдд рдПрдирд╛рд▓реЙрдЧ рд╕реЙрдХреЗрдЯ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВред рдпрд╣ рд╕реЙрдХреЗрдЯ GPIO рдкрд┐рди рдХреЗ рдмрдЧрд▓ рдореЗрдВ рд╕реЙрдХреЗрдЯ рдХреА рдкрдВрдХреНрддрд┐ рдореЗрдВ рджрд╛рдИрдВ рдУрд░ рд╕реЗ рджреВрд╕рд░рд╛ рд╣реИред

![рд╕реЙрдХреЗрдЯ A0 рд╕реЗ рдЬреБрдбрд╝рд╛ рдЧреНрд░реЛрд╡ рд▓рд╛рдЗрдЯ рд╕реЗрдВрд╕рд░](../../../images/pi-light-sensor.png)

## рд▓рд╛рдЗрдЯ рд╕реЗрдВрд╕рд░ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХрд░реЗрдВ

рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рдЕрдм рдЧреНрд░реЛрд╡ рд▓рд╛рдЗрдЯ рд╕реЗрдВрд╕рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

### рдЯрд╛рд╕реНрдХ - рд▓рд╛рдЗрдЯ рд╕реЗрдВрд╕рд░ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХрд░реЗрдВ

рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХрд░реЗрдВред

1. рдкрд╛рдИ рдХреЛ рдкрд╛рд╡рд░ рджреЗрдВ рдФрд░ рдЗрд╕рдХреЗ рдмреВрдЯ рд╣реЛрдиреЗ рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдВред

1. рд╡реАрдПрд╕ рдХреЛрдб рдореЗрдВ рдирд╛рдЗрдЯрд▓рд╛рдЗрдЯ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдЦреЛрд▓реЗрдВ рдЬрд┐рд╕реЗ рдЖрдкрдиреЗ рдЗрд╕ рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рдХреЗ рдкрд┐рдЫрд▓реЗ рднрд╛рдЧ рдореЗрдВ рдмрдирд╛рдпрд╛ рдерд╛, рдпрд╛ рддреЛ рд╕реАрдзреЗ рдкрд╛рдИ рдкрд░ рдЪрд▓ рд░рд╣рд╛ рд╣реИ рдпрд╛ рд░рд┐рдореЛрдЯ рдПрд╕рдПрд╕рдПрдЪ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЬреБрдбрд╝рд╛ рд╣реБрдЖ рд╣реИред

1. `app.py` рдлрд╝рд╛рдЗрд▓ рдЦреЛрд▓реЗрдВ рдФрд░ рдЙрд╕рдореЗрдВ рд╕реЗ рд╕рднреА рдХреЛрдб рд╣рдЯрд╛ рджреЗрдВред

1. рдХреБрдЫ рдЖрд╡рд╢реНрдпрдХ рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреЛ рдЖрдпрд╛рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрди рдХреЛрдб рдХреЛ `app.py` рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдЬреЛрдбрд╝реЗрдВ:

    ```python
    import time
    from grove.grove_light_sensor_v1_2 import GroveLightSensor
    ```

    `import time` рд╡рд┐рд╡рд░рдг `time` рдореЙрдбреНрдпреВрд▓ рдХреЛ рдЖрдпрд╛рдд рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рдмрд╛рдж рдореЗрдВ рдЗрд╕ рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред

    `from grove.grove_light_sensor_v1_2 import GroveLightSensor` рдХрдерди Grove Python рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рд╕реЗ `GroveLightSensor` рдЖрдпрд╛рдд рдХрд░рддрд╛ рд╣реИред рдЗрд╕ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдореЗрдВ рдЧреНрд░реЛрд╡ рд▓рд╛рдЗрдЯ рд╕реЗрдВрд╕рд░ рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдб рд╣реИ, рдФрд░ рдкрд╛рдИ рд╕реЗрдЯрдЕрдк рдХреЗ рджреМрд░рд╛рди рд╡рд┐рд╢реНрд╡ рд╕реНрддрд░ рдкрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред

1. рдкреНрд░рдХрд╛рд╢ рд╕рдВрд╡реЗрджрдХ рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рд╡рд░реНрдЧ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдКрдкрд░ рджрд┐рдП рдЧрдП рдХреЛрдб рдХреЗ рдмрд╛рдж рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛрдб рдЬреЛрдбрд╝реЗрдВ:

    ```python
    light_sensor = GroveLightSensor(0)
    ```

    рд▓рд╛рдЗрди `light_sensor = GroveLightSensor(0)`, `GroveLightSensor` рд╡рд░реНрдЧ рдХреЛ рдкрд┐рди **A0** рд╕реЗ рдЬреЛрдбрд╝рдиреЗ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдмрдирд╛рддреА рд╣реИ - рдПрдирд╛рд▓реЙрдЧ рдЧреНрд░реЛрд╡ рдкрд┐рди рдЬрд┐рд╕рд╕реЗ рд▓рд╛рдЗрдЯ рд╕реЗрдВрд╕рд░ рдЬреБрдбрд╝рд╛ рд╣реЛрддрд╛ рд╣реИред

1. рдКрдкрд░ рджрд┐рдП рдЧрдП рдХреЛрдб рдХреЗ рдмрд╛рдж рдПрдХ рдЕрдирдВрдд рд▓реВрдк рдЬреЛрдбрд╝реЗрдВ рддрд╛рдХрд┐ рдкреНрд░рдХрд╛рд╢ рд╕рдВрд╡реЗрджрдХ рдорд╛рди рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдпрд╛ рдЬрд╛ рд╕рдХреЗ рдФрд░ рдЗрд╕реЗ рдХрдВрд╕реЛрд▓ рдкрд░ рдкреНрд░рд┐рдВрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗ:

    ```python
    while True:
        light = light_sensor.light
        print('Light level:', light)
    ```

    рдпрд╣ `GroveLightSensor` рд╡рд░реНрдЧ рдХреА `light` рд╕рдВрдкрддреНрддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ 0-1,023 рдХреЗ рдкреИрдорд╛рдиреЗ рдкрд░ рд╡рд░реНрддрдорд╛рди рдкреНрд░рдХрд╛рд╢ рд╕реНрддрд░ рдХреЛ рдкрдврд╝реЗрдЧрд╛ред рдпрд╣ рдЧреБрдг рдкрд┐рди рд╕реЗ рдЕрдиреБрд░реВрдк рдорд╛рди рдХреЛ рдкрдврд╝рддрд╛ рд╣реИред рдпрд╣ рдорд╛рди рддрдм рдХрдВрд╕реЛрд▓ рдкрд░ рдореБрджреНрд░рд┐рдд рд╣реЛрддрд╛ рд╣реИред

1. рд▓реВрдк рдХреЗ рдЕрдВрдд рдореЗрдВ рдПрдХ рд╕реЗрдХрдВрдб рдХреА рдПрдХ рдЫреЛрдЯреА sleep function рдЬреЛрдбрд╝реЗрдВ рдХреНрдпреЛрдВрдХрд┐ рдкреНрд░рдХрд╛рд╢ рдХреЗ рд╕реНрддрд░ рдХреЛ рд▓рдЧрд╛рддрд╛рд░ рдЬрд╛рдВрдЪрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИред рдПрдХ sleep function рдбрд┐рд╡рд╛рдЗрд╕ рдХреА рдмрд┐рдЬрд▓реА рдХреА рдЦрдкрдд рдХреЛ рдХрдо рдХрд░рддреА рд╣реИред

    ```python
    time.sleep(1)
    ```

1. рд╡реАрдПрд╕ рдХреЛрдб рдЯрд░реНрдорд┐рдирд▓ рд╕реЗ, рдЕрдкрдирд╛ рдкрд╛рдпрдерди рдРрдк рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд▓рд╛рдПрдБ:

    ```sh
    python3 app.py
    ```

    рдХрдВрд╕реЛрд▓ рдХреЗ рд▓рд┐рдП рд▓рд╛рдЗрдЯ рдорд╛рди рдЖрдЙрдЯрдкреБрдЯ рд╣реЛрдВрдЧреЗред рдкреНрд░рдХрд╛рд╢ рд╕рдВрд╡реЗрджрдХ рдХреЛ рдХрд╡рд░ рдФрд░ рдЙрдЬрд╛рдЧрд░ рдХрд░реЗрдВ, рдФрд░ рдорд╛рди рдмрджрд▓ рдЬрд╛рдПрдВрдЧреЗ:

    ```output
    pi@raspberrypi:~/nightlight $ python3 app.py 
    Light level: 634
    Light level: 634
    Light level: 634
    Light level: 230
    Light level: 104
    Light level: 290
    ```

> ЁЯТБ рдЖрдк рдЗрд╕ рдХреЛрдб рдХреЛ [рдХреЛрдб-рд╕реЗрдВрд╕рд░/рдкрд╛рдИ](code-sensor/pi) рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред

ЁЯША рдЖрдкрдХреЗ рдирд╛рдЗрдЯрд▓рд╛рдЗрдЯ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдореЗрдВ рд╕реЗрдВрд╕рд░ рдЬреЛрдбрд╝рдирд╛ рд╕рдлрд▓ рд░рд╣рд╛!
